<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar PDF</title>

</head>
<body>
    <h1>Crear Archivos PDF</h1>
    <br>
    
    <input type="text" placeholder="Escribeme" id="textoEscrito"><br><br>
    <input type="date" id="fecha">

    <a href="javascript:genPDF()">Crear pdf</a>
    <script type="text/javascript" src="jspdf.min.js"></script>
    <script type="text/javascript">
        function genPDF(){
            var doc=new jsPDF();

        // Obtener la fecha seleccionada del elemento con ID 'fecha'
        let fechaSeleccionada = document.getElementById('fecha').value;
        if (!fechaSeleccionada) {
            alert("Por favor, selecciona una fecha.");
            return;
        }
        // Formatear la fecha seleccionada (yyyy-mm-dd a dd/mm/yyyy)
        let partesFecha = fechaSeleccionada.split('-');
        let fechaFormateada = partesFecha[2] + '/' + partesFecha[1] + '/' + partesFecha[0];


            let mensaje=document.getElementById('textoEscrito').value;
            doc.text(20,20,mensaje);
            doc.text(20, 30, 'Fecha: ' + fechaFormateada);
            doc.addPage();

            doc.text(20,40,'Mi trabajo!!');
            doc.save('Test.pdf');
        }
    </script>
</body>
</html>